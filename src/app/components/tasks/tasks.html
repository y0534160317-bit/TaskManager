HTML
<div class="page-container">
  <nav class="breadcrumb">
    <button mat-icon-button (click)="retry()"><mat-icon>arrow_forward</mat-icon></button>
    <span>פרויקט {{ projectId() }}</span> / <strong>משימות</strong>
  </nav>

  <header class="page-header">
    <h2>רשימת משימות</h2>
    <button mat-mini-fab color="primary" (click)="navigateToAdd(projectId()!)">
      <mat-icon>add</mat-icon>
    </button>
  </header>

  @if(tasks().length === 0 && !isLoading()) {
    <div class="empty-state">
      <mat-icon>assignment_late</mat-icon>
      <p>אין משימות לפרויקט זה.</p>
    </div>
  }

  <div class="tasks-container">
    @for(task of tasks(); track task.id) {
      <mat-card class="task-card border-left" [ngClass]="task.status">
        <div class="task-main-content">
          <div class="task-header">
            <mat-icon class="priority-icon" [ngClass]="task.priority">fiber_manual_record</mat-icon>
            <h3 class="task-title">{{ task.title }}</h3>
            <span class="task-id">#{{ task.id }}</span>
          </div>
          
          <p class="task-desc">{{ task.description || 'אין תיאור זמין' }}</p>
          
          <div class="task-meta">
            <mat-chip-set>
              <mat-chip class="status-chip" [ngClass]="task.status">{{ task.status }}</mat-chip>
              <mat-chip *ngIf="task.due_date">
                <mat-icon matChipAvatar>calendar_today</mat-icon>
                {{ task.due_date | date:'dd/MM' }}
              </mat-chip>
              <mat-chip *ngIf="task.assigned_id">
                <mat-icon matChipAvatar>person</mat-icon>
                ID: {{ task.assigned_id }}
              </mat-chip>
            </mat-chip-set>
          </div>
        </div>

        <div class="task-actions">
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="navigateToUpdate(task.id!)">
              <mat-icon>edit</mat-icon> עדכן
            </button>
            <button mat-menu-item (click)="navigateToComments(task.id!)">
              <mat-icon>comment</mat-icon> תגובות
            </button>
            <mat-divider></mat-divider>
            <button mat-menu-item color="warn" (click)="deleteTask(task.id!)">
              <mat-icon color="warn">delete</mat-icon> מחק
            </button>
          </mat-menu>
        </div>
      </mat-card>
    }
  </div>
</div>

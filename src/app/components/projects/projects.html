
@if (teamId()) {
  <div class="team-info">
    <strong>פרויקטים של קבוצה:</strong> {{ teamId() }}
  </div>
}

<div>
    @if(isLoading()) {
        <p>Loading...</p>
    } @else if(error()) {
        <div class="error-message">
            <p><strong>שגיאה בטעינת פרויקטים:</strong> {{error()}}</p> 
        </div>
    } @else if(projects().length === 0) {
        <div class="warning-message">
            <p>אין פרויקטים זמינים לקבוצה זו.</p> 
        </div>
    } @else {
        <ul class="projects-list">
            @for(project of projects(); track project.id) {
                <li class="project-item">
                    <div class="project-field">
                        <strong>מזהה:</strong> {{ project.id }}
                    </div>

                    <div class="project-field">
                        <strong>מזהה קבוצה:</strong> {{ project.team_id }}
                    </div>

                    <div class="project-name">
                        <strong>{{ project.name }}</strong>
                    </div>

                    @if(project.description) {
                        <div class="project-description">
                            <strong>תיאור:</strong> {{ project.description }}
                        </div>
                    } @else {
                        <div class="project-no-description">
                            אין תיאור
                        </div>
                    }

                    @if(project.status) {
                        <div class="project-field">
                            <strong>סטטוס:</strong> {{ project.status }}
                        </div>
                    } @else {
                        <div class="project-no-status">
                            <strong>סטטוס:</strong> לא הוגדר
                        </div>
                    }

                    @if(project.created_at) {
                        <div class="project-date">
                            <strong>נוצר בתאריך:</strong> {{ project.created_at }}
                        </div>
                    }

                    <button (click)="navigateToTasks(project.id!)" class="btn-navigate">
                        נווט למשימות
                    </button>
                </li>
            }
        </ul>
    }

    <div class="add-project-section">
              <button (click)="navigateToAddProject()" class="btn-add-project">
            הוסף פרויקט חדש
        </button>
    </div>
</div>